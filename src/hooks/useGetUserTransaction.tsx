import { Contract } from "ethers";
import { InteractionHistory } from "../types";
import ContractConfig from "../utils/test-config.json" with { type: "json" };
import { useEthersProvider } from "./useEthersSigner";
import { useEffect, useState } from "react";

interface ModuleDetailProps {
	moduleId: string;
	userAddr: string;
	// chainId: number;
}

// @ts-ignore
const useGetUserTransactions = ({
	moduleId,
	userAddr,
	// chainId
}: ModuleDetailProps): InteractionHistory => {
	// const provider = useEthersProvider({ chainId });
	// const vaultInfos = Object.values(ContractConfig.tradableSideVault.vault).filter(vault => vault.networkId === chainId);
	// if(vaultInfos.length === 0) {
	// 	throw new Error("There is no side vault on the chain you're connected to");
	// }
	// const sideVaultContract = new Contract(vaultInfos[0].tradableSideVault, ContractConfig.tradableSideVault.abi, provider);
	// const [pendingTxs, setPendingTxs] = useState([]);
	// const [completedTxs, setCompletedTxs] = useState([]);
	
	// useEffect(()=>{
	// 	(async () => {
	// 		const pending = await sideVaultContract.getPendingFuncReceipt(userAddr);
	// 		const completed = await sideVaultContract.getCompletedFunReceipt(userAddr);

	// 		console.log({pending, completed})
	// 	})()
	// }, []);

	return {
		pending: [
			{
				interactAmount: 10,
				createdAt: "2/2/2020", //TODO: deprecate this
				payload: "0x0000000000000000000000000000000000000000000000000000000000000000",
				funcId: "0x000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000c83b376d8ba8ef5baed8a5a890f37ebd591b9690000000000000000000000003b6b709e8720bd847b564a446205c7aa2e0d545100000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000566756e6331000000000000000000000000000000000000000000000000000000",
				tokenAddr: "0x75246a2DC8234D54E439CA309905a95cbf93193E",
			},
			{
				interactAmount: 150,
				createdAt: "3/15/2021",
				payload:
					"0x0000000000000000000000000000000000000000000000000000000000000000",
				funcId: "0x000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000c83b376d8ba8ef5baed8a5a890f37ebd591b9690000000000000000000000003b6b709e8720bd847b564a446205c7aa2e0d545100000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000566756e6332000000000000000000000000000000000000000000000000000000",
				tokenAddr: "0x7E1c8E07085faB0311Fc8df9448Bc054E67fFbC6",
			},
			{
				interactAmount: 400,
				payload:
					"0x0000000000000000000000000000000000000000000000000000000000000000",
				funcId: "0x000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000c83b376d8ba8ef5baed8a5a890f37ebd591b9690000000000000000000000003b6b709e8720bd847b564a446205c7aa2e0d545100000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000566756e6333000000000000000000000000000000000000000000000000000000",
				tokenAddr: "0xB28eE801f8105a0e0D064D16897080Aa0cBF3ad2",
			},
		// 	{
		// 		interactAmount: 500,
		// 		createdAt: "8/30/2019",
		// 		payload:
		// 			"0x0000000000000000000000000000000000000000000000000000000000000000",
		// 		funcId: "0x000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000000040000000000000000000000000f31467c0ca100abef512002183de7dcbeb9d2fc0000000000000000000000000abd9ca667bc2c737996929c2c9c5fc94af947fd200000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000566756e6331000000000000000000000000000000000000000000000000000000",
		// 		tokenAddr: "0x4648A8719b53b365cCfa12C22BF5F9DEaE52272b",
		// 	},
		// 	{
		// 		interactAmount: 300,
		// 		createdAt: "11/23/2020",
		// 		payload:
		// 			"0x0000000000000000000000000000000000000000000000000000000000000000",
		// 		funcId: "0x000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000000040000000000000000000000000f31467c0ca100abef512002183de7dcbeb9d2fc0000000000000000000000000abd9ca667bc2c737996929c2c9c5fc94af947fd200000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000566756e6331000000000000000000000000000000000000000000000000000000",
		// 		tokenAddr: "0x85b97CB8828E237605Bc19Fc0fa622c6d8D6815B",
		// 	},
		],
		completed: [
			{
				interactAmount: 400,
				createdAt: "6/12/2022",
				funcId: "0x000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000c83b376d8ba8ef5baed8a5a890f37ebd591b9690000000000000000000000003b6b709e8720bd847b564a446205c7aa2e0d545100000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000566756e6333000000000000000000000000000000000000000000000000000000",
				payload:
					"0x0000000000000000000000000000000000000000000000000000000000000000",
				tokenAddr: "0xcBa8Ef489334A965c5c424F896A4aCAd39d262EC",
			},
			{
				interactAmount: 500,
				createdAt: "8/30/2019",
				funcId: "0x000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000c83b376d8ba8ef5baed8a5a890f37ebd591b9690000000000000000000000003b6b709e8720bd847b564a446205c7aa2e0d545100000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000566756e6333000000000000000000000000000000000000000000000000000000",
				payload:
					"0x0000000000000000000000000000000000000000000000000000000000000000",
				tokenAddr: "0xcBa8Ef489334A965c5c424F896A4aCAd39d262EC",
			},
			{
				interactAmount: 300,
				createdAt: "11/23/2020",
				funcId: "0x000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000c83b376d8ba8ef5baed8a5a890f37ebd591b9690000000000000000000000003b6b709e8720bd847b564a446205c7aa2e0d545100000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000566756e6333000000000000000000000000000000000000000000000000000000",
				payload:
					"0x0000000000000000000000000000000000000000000000000000000000000000",
				tokenAddr: "0xcBa8Ef489334A965c5c424F896A4aCAd39d262EC",
			},
		],
	};
};

export default useGetUserTransactions;
